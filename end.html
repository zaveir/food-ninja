<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Food Ninja</title>
        <link rel="stylesheet" href="end.css">
	</head>
	<body>
        <h1>End Game</h1>
        <div class="container">
            <h2>Score: </h2>
            <h2 id="score"></h2>
        </div>
        <div class="container">
            <h2>Hit Rate: </h2>
            <h2 id="rate"></h2>
        </div>
        <div class="container">
            <h2>Ranking: </h2>
            <h2 id="ranking"></h2>
        </div>
        <br>
        <input type="button" value="PLAY AGAIN" onclick="location.href='index.html';" />
        <!-- <a href="index.html">PLAY AGAIN</a> -->
	</body>
    <script>
        window.onload = function(){
            const urlParams = new URLSearchParams(window.location.search);
            const score = urlParams.get("score");
            const total = urlParams.get("total");
            const percent = !total || !score ? 0 : score / total * 100;
            let ranking;

            if (percent >= 95) ranking = "Grandmaster Ninja";
            else if (percent >= 90) ranking = "Master Ninja";
            else if (percent >= 80) ranking = "Advanced Ninja";
            else if (percent >= 70) ranking = "Experienced Ninja";
            else if (percent >= 60) ranking = "Novice Ninja";
            else if (percent >= 40) ranking = "Apprentice Ninja";
            else ranking = "Baby Ninja";

            document.getElementById("score").innerHTML = score;
            document.getElementById("rate").innerHTML = `${percent.toFixed(0)}%`;
            document.getElementById("ranking").innerText = ranking;
        };
    </script>
</html>